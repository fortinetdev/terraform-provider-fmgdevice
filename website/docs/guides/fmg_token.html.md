---
subcategory: ""
layout: "fmgdevice"
page_title: "Generate an API token for FortiManager"
description: |-
  Generate an API token for FortiManager
---

# Generate an API token for FortiManager

FortiManager Terraform provider could use API token to be authenticated for FortiManager version >= v7.2.2. An API token is generated by creating a new REST API admin.

*Note: The steps below could be performed from the FortiManager GUI or CLI as an Administrator with the super_admin profile and are customized for this tutorial.*

* By GUI

	On the FortiManager GUI, select `System Settings > Admin > Administrators > Create New > REST API Admin`.

	The Trusted Host must be specified to ensure that your local host can reach the FortiManager. For example, to restrict requests as coming from only 10.20.100.99, enter 10.20.100.99/32.

	In Admin Profile field, select `Super_User`. *Note: You can specify restricted permission of user profile by creating an profile on `System Settings > Admin > Profile > Create New`. But restricted profile may not have the permission to access some resources.*

	Click OK and an API token will be generated. *Note: If the token not shown on the GUI, click the REST API Admin you just created and click the `Regenerate` button.*

	Make note of the API token as it is only shown once and cannot be retrieved. It will be needed for the rest of the tutorial.

	Click Close to complete creation of the REST API Admin.

* By CLI
    * Create an API Admin user by CLI. For instance:
        
        ```
        config system admin user
            edit "api_user"
                set profileid "Super_User"
                set user_type api
                set rpc-permit read-write
                set trusthost1 10.20.100.99/32
            next
        end
        ```

        Specify the trusthost is the best practice. Otherwise, everyone could use the token to access your FortiManager device.

        Set `profileid` to `Super_User`. *Note: You can specify restricted permission of user profile by creating an profile on `System Settings > Admin > Profile > Create New`. But restricted profile may not have the permission to access some resources.*

    * Generate the token for the API user:
        
        Run `execute api-user generate-key <API_USER_NAME>`, for example `execute api-user generate-key api_user`.

        Make note of the API token as it is only shown once and cannot be retrieved. It will be needed for the rest of the tutorial.